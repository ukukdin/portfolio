<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="/css/userRegist.css">
    <script src="/js/jquery-3.6.0.js"></script>
    <style>
    .id_ok{color:#fff; display: none;}
	.id_already{color:#6A82FB; display: none;}
    
    </style>
</head>
<body>
	<form method="POST" class="joinForm" action="#" name="user_Regist">

		<h2>회원가입</h2>
		<div class="emailForm">
				<input name="user_id" id="id" type="text" class="email" placeholder="아이디" style="display:inline; text-align:left" required>
				<input type="button" class = "button" value="중복 확인" th:onclick = "|checkId()|">
		</div>
				<span class="id_ok">사용 가능한 아이디입니다.</span>
				<span class="id_already">누군가 이 아이디를 사용하고 있어요.</span>
		<div class="textForm">
			<input name="user_password" type="password" class="pw" placeholder="비밀번호"  required>
		</div>
		<div class="textForm">
			<input name="loginPwConfirm" type="password" class="pw"
				placeholder="비밀번호 확인"  required>
		</div>
		<div class="textForm">
			<input name="user_name" type="text" class="name" placeholder="이름"  required>
		</div>
		<div class="emailForm">
				<input name="user_email" id="email" type="email" class="email" placeholder="이메일" style="display:inline; text-align:left"  required>
				<button class = "button" onclick="emailSend();">인증번호 보내기</button>
		</div>
<!-- 		<div class="emailForm">
				<input name="email_check" id="email_check" type="text" class="email" placeholder="이메일 인증" style="display: inline; text-align: left">
				<button class="button" onclick="emailCheck();">인증번호 확인</button>
				<input type="hidden" id="email_checkYN" value = "false">
		</div> -->
		<div class="textForm">
			<input name="user_phone" type="text" class="cellphoneNo"
				placeholder="전화번호 (010-1234-5678)"  required pattern="[0-9]{3}-[0-9]{4}-[0-9]{4}">
		</div>
		
		<div class="textForm">
			<small style="float:left; padding-bottom:5px;">생년월일</small>
			<input name="user_birth" type="date" class="birth"  required>
		</div>
		
		<div class="logingender">
			<a>성별&nbsp;&nbsp;&nbsp;</a>
			<input type="checkbox" name="user_gender" id="chk1"  value="1"
				onClick="example_1();"><a>남성&nbsp;&nbsp;&nbsp;</a>
			<input type="checkbox"
				name="user_gender" id="chk2" value="2"  onClick="example_2();">여성
		</div>
		<br>
		
		
		<input type="button" class="btn" th:onclick="|user_reg()|" value="회 원 가 입" />



	</form>
</body>
<script th:inline="javascript">
	const example1 = document.querySelector('#chk1');
	const example2 = document.querySelector('#chk2');
	
	function example_1() {
		if (example1.checked == true) {
			example2.checked = false;
		}
	}
	function example_2() {
		if (example2.checked == true) {
			example1.checked = false;
		}
	}
	
	function user_reg() {
		this.event.preventDefault();
		
		document.user_Regist.action = "RegistForm";
		document.user_Regist.submit();
	}
	
	function checkId(){
		this.event.preventDefault();
		
		document.user_Regist.action = "idCheck";
		document.user_Regist.submit();
    };
    
    

    
	// function emailSend() {
	// 	let clientEmail = document.getElementById('email');
	// 	let emailYN = isEmail(clientEmail);
	// 	console.log(clientEmail);
	// 	console.log('cmsjy040317@naver.com' + clientEmail);

	// 	if(emailYN == true) {
	// 		alert('이메일 형식입니다.');

	// 		$.ajax({
	// 			type:"POST",
	// 			url:"/user/userRegist",
	// 			data:{userEmail:clientEmail},
	// 			success : function(data) {
	// 			},error : function(e) {
	// 				alert('오류입니다. 잠시 후 다시 시도해주세요.');
	// 			}
	// 		});
			
	// 	}else{
	// 		alert('이메일 형식에 알맞게 입력해주세요 xxx@xxx.com');
	// 	}
	// }
	
	// function isEmail(asValue) {
	// 	var regExp = /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
	// 	return regExp.test(asValue);
	// }
</script>
</html>